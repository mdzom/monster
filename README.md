# monster
Экраны приложения
1. Экран №1 «Запрос геолокации».

1.1. Описание

На данном экране пользователь может разрешить/не разрешить доступ к своей геопозиции. 

1.2. Переходы

Переход на экраны №2 или №4.

1.3. Состояние экрана

Для этого экрана есть одно общее состояние.

    1.3.1. Кнопка Разрешить

По нажатию показывается системный попап с запросом на доступ к геолокации пользователя. Если пользователь разрешает доступ, то происходит переход на экран №3. Если запрещает доступ, то происходит переход на экран №2.



2. Экран №2 «Отсутствие разрешения на геолокацию»

2.1. Описание

На данном экране пользователь может перейти в настройки приложения в настройках устройства для разрешения доступа к геолокации.

2.2. Переходы

На этом экране приложение должно автоматически отслеживать наличие разрешения на доступ к геолокации пользователя и при его наличии автоматически переходить на экран №3.

2.3. Общее состояние

    2.3.1. Кнопка Перейти к настройкам 

По нажатию пользователю открывается системное приложение «Настройки», на котором сразу показывается экран приложения.



3. Экран №3 «Карта монстров»

3.1. Описание

На данном экране пользователь может на карте увидеть монстров вокруг себя, перейти к поимке выбранного монстра или посмотреть свою команду. 

3.2. Переходы

Переход на экраны №3 и №4.

3.3. Состояние экрана

Для этого экрана есть одно общее состояние, содержащее следующие интерактивные элементы:

    3.3.1.  Карта

Интегрированная яндекс или гугл карта (на выбор разработчика), которая отображает позицию пользователя. 

    3.3.2. Кнопка увеличения масштаба

По нажатию увеличивает масштаб карты на 25%.

    3.3.3. Кнопка уменьшения масштаба

По нажатию уменьшает масштаб карты на 25%. 

    3.3.4. Кнопка определения местонахождения

По нажатию карта центрируется по местоположению пользователя.

    3.3.5. Кнопка Моя команда

По нажатию ведет на экран №5

    3.3.6. Монстры вокруг

При загрузке экрана формируется список из 30 случайных монстров в случайных локациях в радиусе километра от геолокации пользователя. Затем каждые 5 минут список обновляется: с 20% вероятностью каждый монстр удаляется из списка (и из карты) и в список добавляется 6 случайных монстров в случайные локации в радиусе километра от геолокации пользователя. Поверх карты (пункт 4.3.3.1.) динамически показываются все монстры в радиусе 300 метров от геолокации пользователя, при перемещении пользователя список показываемых монстров обновляется. 

        3.3.6.1. POI монстра

В POI показывается изображение соответствующего монстра. По нажатию на POI:

если расстояние от пользователя до монстра 100 или меньше метров, происходит переход на экран №4. с выбранным монстром. При этом выбранный монстр удаляется из списка монстров на карте;
если расстояние больше 100 метров, то показывается системный алерт: «Вы находитесь слишком далеко от монстра – {n} метров», где вместо {n} подставляется целочисленное значение расстояния от пользователя до монстра в метрах.


4. Экран №4 «Поимка монстра»

4.1. Описание

На этом экране пользователь может поймать монстра.

4.2. Переходы

Переход на экран №3.

4.3. Состояние экрана

Для этого экрана есть одно общее состояние, содержащее следующие интерактивные элементы:

    4.3.1. Надпись уровень монстра

При переходе на экран для монстра случайно генерируется уровень от 5 до 20. Сгенерированный уровень показывается в надписи.

    4.3.2. Изображение монстра 

Отображает изображение выбранного монстра. 

    4.3.3. Кнопка Попробовать поймать

По нажатию на кнопку с вероятностью 20% игрок ловит монстра:

при удачной поимке монстр добавляется в команду и кэшируется, показывается системный попап: «Ура! Вы поймали монстра {n} в свою команду» (где {n} – имя монстра), с кнопкой «Вернуться на карту», по нажатию на которую происходит переход на экран №3. 
при неудачной попытке с вероятностью 30% монстр убегает: показывается системный попап с текстом «Монстр убежал!» с кнопкой »Вернуться на карту», по нажатию на которую происходит переход на экран №3 Если монстр не убегает, то показывается системный попап «Не вышло:( Попробуйте поймать еще раз!» с кнопкой «ОК». 


5. Экран №5 «Моя команда»

5.1. Описание

На этом экране пользователь может просмотреть пойманных монстров.

5.2. Переходы

Переход на экран №3.

5.3. Состояние экрана

Для этого экрана есть одно общее состояние, содержащее следующие интерактивные элементы:

    5.3.1. Надпись «Вы еще не поймали монстров в свою команду»

Показывается при условии, что пользователь еще не поймал ни одного монстра.

    5.3.2. Таблица с монстрами

Таблица отображает пойманных монстров, закэшированных в приложении.

        5.3.2.1. Ячейка монстра

Ячейка состоит из:

            5.3.2.1.1. Изображение монстра

Отображает изображение монстра.

            5.3.2.1.2. Надпись название монстра

Надпись отображает значение поля «name».

            5.3.2.1.3. Надпись уровень монстра

Надпись отображает значение поля «name».
